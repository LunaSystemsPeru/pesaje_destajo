/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package vistas;

import clases.cl_clientes;
import clases.cl_clientes_sucursal;
import clases.cl_varios;
import formularios.frm_reg_cliente;
import static formularios.frm_reg_cliente.c_cliente;
import formularios.frm_reg_colaborador;
import static formularios.frm_reg_colaborador.c_colaborador;
import java.awt.event.KeyEvent;
import javax.swing.JDialog;
import javax.swing.JOptionPane;
import pesaje_trabajos.frm_principal;

/**
 *
 * @author CALIDAD
 */
public class frm_ver_clientes extends javax.swing.JInternalFrame {

    cl_varios c_varios = new cl_varios();
    cl_clientes c_cliente = new cl_clientes();
    cl_clientes_sucursal c_sucursales = new cl_clientes_sucursal();
    int fila_seleccionada;

    public frm_ver_clientes() {
        initComponents();

        String query = "select * "
                + "from clientes "
                + "order by razon_social asc";
        c_cliente.mostrar(t_clientes, query);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jd_ver_sucursales = new javax.swing.JDialog();
        jToolBar3 = new javax.swing.JToolBar();
        btnuevo = new javax.swing.JButton();
        btnmodificar = new javax.swing.JButton();
        jButton7 = new javax.swing.JButton();
        t_sucursalcliente = new javax.swing.JScrollPane();
        t_sucursales = new javax.swing.JTable();
        jLabel7 = new javax.swing.JLabel();
        txtcliente = new javax.swing.JTextField();
        jd_crear_sucursal = new javax.swing.JDialog();
        jToolBar4 = new javax.swing.JToolBar();
        btn_grabar = new javax.swing.JButton();
        btn_mod = new javax.swing.JButton();
        btn_salir = new javax.swing.JButton();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        txtnombre = new javax.swing.JTextField();
        txtdireccion = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();
        txt_buscar = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        t_clientes = new javax.swing.JTable();
        jComboBox1 = new javax.swing.JComboBox();
        jToolBar1 = new javax.swing.JToolBar();
        btn_nuevo = new javax.swing.JButton();
        btn_modificar = new javax.swing.JButton();
        btn_ver_sucursales = new javax.swing.JButton();
        btn_cerrar = new javax.swing.JButton();

        jd_ver_sucursales.setTitle("Ver Sucursales del Cliente");

        jToolBar3.setFloatable(false);
        jToolBar3.setOpaque(false);

        btnuevo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/add.png"))); // NOI18N
        btnuevo.setText("Nuevo");
        btnuevo.setFocusable(false);
        btnuevo.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnuevo.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnuevo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnuevoActionPerformed(evt);
            }
        });
        jToolBar3.add(btnuevo);

        btnmodificar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/application_edit.png"))); // NOI18N
        btnmodificar.setText("Modificar");
        btnmodificar.setEnabled(false);
        btnmodificar.setFocusable(false);
        btnmodificar.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btnmodificar.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btnmodificar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnmodificarActionPerformed(evt);
            }
        });
        jToolBar3.add(btnmodificar);

        jButton7.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/cross.png"))); // NOI18N
        jButton7.setText("Salir");
        jButton7.setFocusable(false);
        jButton7.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        jButton7.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        jButton7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton7ActionPerformed(evt);
            }
        });
        jToolBar3.add(jButton7);

        t_sucursales.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        t_sucursales.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                t_sucursalesMouseClicked(evt);
            }
        });
        t_sucursales.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                t_sucursalesKeyPressed(evt);
            }
        });
        t_sucursalcliente.setViewportView(t_sucursales);

        jLabel7.setText("Cliente");

        txtcliente.setEditable(false);
        txtcliente.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtclienteKeyReleased(evt);
            }
        });

        javax.swing.GroupLayout jd_ver_sucursalesLayout = new javax.swing.GroupLayout(jd_ver_sucursales.getContentPane());
        jd_ver_sucursales.getContentPane().setLayout(jd_ver_sucursalesLayout);
        jd_ver_sucursalesLayout.setHorizontalGroup(
            jd_ver_sucursalesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jToolBar3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jd_ver_sucursalesLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jd_ver_sucursalesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(t_sucursalcliente, javax.swing.GroupLayout.DEFAULT_SIZE, 565, Short.MAX_VALUE)
                    .addGroup(jd_ver_sucursalesLayout.createSequentialGroup()
                        .addComponent(jLabel7)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtcliente)))
                .addContainerGap())
        );
        jd_ver_sucursalesLayout.setVerticalGroup(
            jd_ver_sucursalesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jd_ver_sucursalesLayout.createSequentialGroup()
                .addComponent(jToolBar3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jd_ver_sucursalesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtcliente, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(t_sucursalcliente, javax.swing.GroupLayout.DEFAULT_SIZE, 195, Short.MAX_VALUE)
                .addContainerGap())
        );

        jToolBar4.setFloatable(false);
        jToolBar4.setEnabled(false);

        btn_grabar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/add.png"))); // NOI18N
        btn_grabar.setText("Grabar");
        btn_grabar.setEnabled(false);
        btn_grabar.setFocusable(false);
        btn_grabar.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btn_grabar.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btn_grabar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_grabarActionPerformed(evt);
            }
        });
        jToolBar4.add(btn_grabar);

        btn_mod.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/application_edit.png"))); // NOI18N
        btn_mod.setText("Modificar");
        btn_mod.setEnabled(false);
        btn_mod.setFocusable(false);
        btn_mod.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btn_mod.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btn_mod.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_modActionPerformed(evt);
            }
        });
        jToolBar4.add(btn_mod);

        btn_salir.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/cross.png"))); // NOI18N
        btn_salir.setText("Salir");
        btn_salir.setFocusable(false);
        btn_salir.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btn_salir.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btn_salir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_salirActionPerformed(evt);
            }
        });
        jToolBar4.add(btn_salir);

        jLabel8.setText("Nombre:");

        jLabel9.setText("Direccion:");

        txtnombre.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtnombreActionPerformed(evt);
            }
        });
        txtnombre.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtnombreKeyPressed(evt);
            }
        });

        txtdireccion.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txtdireccionKeyPressed(evt);
            }
        });

        javax.swing.GroupLayout jd_crear_sucursalLayout = new javax.swing.GroupLayout(jd_crear_sucursal.getContentPane());
        jd_crear_sucursal.getContentPane().setLayout(jd_crear_sucursalLayout);
        jd_crear_sucursalLayout.setHorizontalGroup(
            jd_crear_sucursalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jToolBar4, javax.swing.GroupLayout.DEFAULT_SIZE, 619, Short.MAX_VALUE)
            .addGroup(jd_crear_sucursalLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jd_crear_sucursalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jd_crear_sucursalLayout.createSequentialGroup()
                        .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtnombre, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(jd_crear_sucursalLayout.createSequentialGroup()
                        .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtdireccion)))
                .addContainerGap())
        );
        jd_crear_sucursalLayout.setVerticalGroup(
            jd_crear_sucursalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jd_crear_sucursalLayout.createSequentialGroup()
                .addComponent(jToolBar4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jd_crear_sucursalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtnombre, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jd_crear_sucursalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txtdireccion, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        setTitle("Ver Clientes");

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/magnifier.png"))); // NOI18N
        jLabel1.setText("Buscar por RUC o Razon Social:");

        txt_buscar.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                txt_buscarKeyPressed(evt);
            }
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txt_buscarKeyReleased(evt);
            }
        });

        t_clientes.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        t_clientes.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                t_clientesMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(t_clientes);

        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "TODOS", "DEUDORES", "INACTIVOS" }));
        jComboBox1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBox1ActionPerformed(evt);
            }
        });

        jToolBar1.setFloatable(false);
        jToolBar1.setOpaque(false);

        btn_nuevo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/add.png"))); // NOI18N
        btn_nuevo.setText("Nuevo");
        btn_nuevo.setFocusable(false);
        btn_nuevo.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btn_nuevo.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btn_nuevo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_nuevoActionPerformed(evt);
            }
        });
        jToolBar1.add(btn_nuevo);

        btn_modificar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/application_edit.png"))); // NOI18N
        btn_modificar.setText("Modificar");
        btn_modificar.setEnabled(false);
        btn_modificar.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btn_modificar.setVerticalAlignment(javax.swing.SwingConstants.TOP);
        btn_modificar.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btn_modificar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_modificarActionPerformed(evt);
            }
        });
        jToolBar1.add(btn_modificar);

        btn_ver_sucursales.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/banco.png"))); // NOI18N
        btn_ver_sucursales.setText("Sucursal");
        btn_ver_sucursales.setEnabled(false);
        btn_ver_sucursales.setFocusable(false);
        btn_ver_sucursales.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btn_ver_sucursales.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btn_ver_sucursales.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_ver_sucursalesActionPerformed(evt);
            }
        });
        jToolBar1.add(btn_ver_sucursales);

        btn_cerrar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/delete.png"))); // NOI18N
        btn_cerrar.setText("Cerrar");
        btn_cerrar.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btn_cerrar.setVerticalAlignment(javax.swing.SwingConstants.TOP);
        btn_cerrar.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        btn_cerrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn_cerrarActionPerformed(evt);
            }
        });
        jToolBar1.add(btn_cerrar);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(txt_buscar, javax.swing.GroupLayout.PREFERRED_SIZE, 300, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 321, Short.MAX_VALUE)
                .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, 150, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addComponent(jToolBar1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 966, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jToolBar1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txt_buscar, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jComboBox1, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(17, 17, 17)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 395, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btn_cerrarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_cerrarActionPerformed
        this.dispose();
    }//GEN-LAST:event_btn_cerrarActionPerformed

    private void txt_buscarKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_buscarKeyPressed
//        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
//            String t_buscar = txt_buscar.getText().trim();
//            String query = "select * "
//                    + "from clientes "
//                    + "where ruc like '%" + t_buscar + "%' or razon_social like '%" + t_buscar + "%' "
//                    + "order by razon_social asc";
//            c_cliente.mostrar(t_clientes, query);
//            txt_buscar.setText("");
//        }
    }//GEN-LAST:event_txt_buscarKeyPressed

    private void btn_ver_sucursalesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_ver_sucursalesActionPerformed

        jd_ver_sucursales.setModal(true);
        jd_ver_sucursales.setSize(589, 307);
        jd_ver_sucursales.setLocationRelativeTo(null);
        c_sucursales.setId_cliente(c_cliente.getId_cliente());
        c_sucursales.mostrar(t_sucursales);
        jd_ver_sucursales.setVisible(true);

    }//GEN-LAST:event_btn_ver_sucursalesActionPerformed

    private void btn_nuevoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_nuevoActionPerformed
        // TODO add your handling code here:
        frm_reg_cliente.registrar = true;
        frm_reg_cliente reg_clientes = new frm_reg_cliente();
        c_varios.llamar_ventana(reg_clientes);
        this.dispose();
    }//GEN-LAST:event_btn_nuevoActionPerformed

    private void jComboBox1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBox1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBox1ActionPerformed

    private void t_clientesMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_t_clientesMouseClicked
        if (evt.getClickCount() == 2) {
            //capture el nro de fla
            fila_seleccionada = t_clientes.getSelectedRow();
            //capturar id cliente
            c_cliente.setId_cliente(Integer.parseInt(t_clientes.getValueAt(fila_seleccionada, 0).toString()));
            btn_modificar.setEnabled(true);
            btn_ver_sucursales.setEnabled(true);
        }
    }//GEN-LAST:event_t_clientesMouseClicked

    private void btn_modificarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_modificarActionPerformed
        // TODO add your handling code here:
        frm_reg_cliente.c_cliente.setId_cliente(c_cliente.getId_cliente());
        frm_reg_cliente.registrar = false;
        frm_reg_cliente reg_cliente = new frm_reg_cliente();
        c_varios.llamar_ventana(reg_cliente);
        this.dispose();
    }//GEN-LAST:event_btn_modificarActionPerformed

    private void btn_salirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_salirActionPerformed
        jd_crear_sucursal.dispose();
    }//GEN-LAST:event_btn_salirActionPerformed

    private void btn_modActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_modActionPerformed

        c_sucursales.setDireccion(txtdireccion.getText());
        c_sucursales.setNombre(txtnombre.getText());

        boolean actualizado = c_sucursales.actualizar();
        if (actualizado) {
            JOptionPane.showMessageDialog(null, "Listo, Sucursal Modificado!");
            jd_crear_sucursal.dispose();
            c_sucursales.mostrar(t_sucursales);

        }
    }//GEN-LAST:event_btn_modActionPerformed

    private void btnuevoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnuevoActionPerformed
        jd_crear_sucursal.setModal(true);
        jd_crear_sucursal.setSize(619, 206);
        jd_crear_sucursal.setLocationRelativeTo(null);
        jd_crear_sucursal.setVisible(true);
    }//GEN-LAST:event_btnuevoActionPerformed

    private void btn_grabarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn_grabarActionPerformed

        c_sucursales.setNombre(txtnombre.getText());
        c_sucursales.setDireccion(txtdireccion.getText());
        //capturar a la bd de sistema
        c_sucursales.obtener_codigo();
        boolean registrado = c_sucursales.registrar();
        if (registrado) {
            JOptionPane.showMessageDialog(null, "Listo, Sucursal Creado!");
            jd_crear_sucursal.dispose();
            c_sucursales.mostrar(t_sucursales);
        }
    }//GEN-LAST:event_btn_grabarActionPerformed

    private void jButton7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton7ActionPerformed
        jd_ver_sucursales.dispose();
    }//GEN-LAST:event_jButton7ActionPerformed

    private void txtnombreKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtnombreKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            if (txtnombre.getText().length() > 0) {
                // txtdireccion.setEnabled(true);
                txtdireccion.requestFocus();
            }
        }
    }//GEN-LAST:event_txtnombreKeyPressed

    private void txtdireccionKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtdireccionKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            if (txtdireccion.getText().length() > 0) {
                btn_grabar.setEnabled(true);
                btn_mod.setEnabled(true);
                btn_grabar.requestFocus();
            }
        }
    }//GEN-LAST:event_txtdireccionKeyPressed

    private void btnmodificarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnmodificarActionPerformed
        jd_crear_sucursal.setModal(true);
        jd_crear_sucursal.setSize(619, 206);
        jd_crear_sucursal.setLocationRelativeTo(null);
        c_sucursales.cargar_datos();
        txtnombre.setText(c_sucursales.getNombre());
        txtdireccion.setText(c_sucursales.getDireccion());
        jd_crear_sucursal.setVisible(true);
    }//GEN-LAST:event_btnmodificarActionPerformed

    private void t_sucursalesKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_t_sucursalesKeyPressed

    }//GEN-LAST:event_t_sucursalesKeyPressed

    private void t_sucursalesMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_t_sucursalesMouseClicked
        if (evt.getClickCount() == 2) {
            fila_seleccionada = t_sucursales.getSelectedRow();
            c_sucursales.setId_sucursal(Integer.parseInt(t_sucursales.getValueAt(fila_seleccionada, 0).toString()));
            btnmodificar.setEnabled(true);
        }
    }//GEN-LAST:event_t_sucursalesMouseClicked

    private void txtnombreActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtnombreActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtnombreActionPerformed

    private void txt_buscarKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_buscarKeyReleased

        String t_buscar = txt_buscar.getText().trim();
        String query = "select * "
                + "from clientes "
                + "where ruc = '" + t_buscar + "' or razon_social like '%" + t_buscar + "%' "
                + "order by razon_social asc";
        c_cliente.mostrar(t_clientes, query);
        txt_buscar.setText("");

    }//GEN-LAST:event_txt_buscarKeyReleased

    private void txtclienteKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtclienteKeyReleased
        String t_sucursales = txtcliente.getText().trim();
        String query = "select * "
                + "from clientes_sucursal "
                + "where nombre like '%" + t_sucursales + "%' "
                + "order by nombre asc";
        c_cliente.mostrar(t_clientes, query);
        txtcliente.setText("");

        c_colaborador.mostrar(this.t_sucursales, query);
    }//GEN-LAST:event_txtclienteKeyReleased


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btn_cerrar;
    private javax.swing.JButton btn_grabar;
    private javax.swing.JButton btn_mod;
    private javax.swing.JButton btn_modificar;
    private javax.swing.JButton btn_nuevo;
    private javax.swing.JButton btn_salir;
    private javax.swing.JButton btn_ver_sucursales;
    private javax.swing.JButton btnmodificar;
    private javax.swing.JButton btnuevo;
    private javax.swing.JButton jButton7;
    private javax.swing.JComboBox jComboBox1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JToolBar jToolBar1;
    private javax.swing.JToolBar jToolBar3;
    private javax.swing.JToolBar jToolBar4;
    private javax.swing.JDialog jd_crear_sucursal;
    private javax.swing.JDialog jd_ver_sucursales;
    private javax.swing.JTable t_clientes;
    private javax.swing.JScrollPane t_sucursalcliente;
    private javax.swing.JTable t_sucursales;
    private javax.swing.JTextField txt_buscar;
    private javax.swing.JTextField txtcliente;
    private javax.swing.JTextField txtdireccion;
    private javax.swing.JTextField txtnombre;
    // End of variables declaration//GEN-END:variables
}
